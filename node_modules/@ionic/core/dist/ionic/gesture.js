/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
const{h:t}=window.Ionic;import{a as e}from"./chunk-647a6bad.js";let n;function r(t,e,r,o){const i=function(t){if(void 0===n)try{const e=Object.defineProperty({},"passive",{get:()=>{n=!0}});t.addEventListener("optsTest",()=>{},e)}catch(t){n=!1}return!!n}(t)?{capture:!!o.capture,passive:!!o.passive}:!!o.capture;let c,s;return t.__zone_symbol__addEventListener?(c="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(c="addEventListener",s="removeEventListener"),t[c](e,r,i),()=>{t[s](e,r,i)}}const o=2e3;function i(t){return t instanceof Document?t:t.ownerDocument}function c(t){const n=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),c=n.canStart,l=n.onWillStart,d=n.onStart,m=n.onEnd,f=n.notCaptured,v=n.onMove,p=n.threshold,X=n.queue,y={type:"pan",startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,event:void 0,data:void 0},Y=function(t,e,n,c,s){let a,u,l,d,m,f,v,p=0;function X(i){p=Date.now()+o,e(i)&&(!u&&n&&(u=r(t,"touchmove",n,s)),l||(l=r(t,"touchend",Y,s)),d||(d=r(t,"touchcancel",Y,s)))}function y(o){p>Date.now()||e(o)&&(!f&&n&&(f=r(i(t),"mousemove",n,s)),v||(v=r(i(t),"mouseup",h,s)))}function Y(t){S(),c&&c(t)}function h(t){_(),c&&c(t)}function S(){u&&u(),l&&l(),d&&d(),u=l=d=void 0}function _(){f&&f(),v&&v(),f=v=void 0}function g(){S(),_()}function b(e){e?(a&&a(),m&&m(),a=m=void 0,g()):(a||(a=r(t,"touchstart",X,s)),m||(m=r(t,"mousedown",y,s)))}return{setDisabled:b,stop:g,destroy:function(){b(!0),c=n=e=void 0}}}(n.el,function(t){const e=u(t);return!(g||!b)&&(a(t,y),y.startX=y.currentX,y.startY=y.currentY,y.startTimeStamp=y.timeStamp=e,y.velocityX=y.velocityY=y.deltaX=y.deltaY=0,y.event=t,(!c||!1!==c(y))&&(S.release(),!!S.start()&&(g=!0,0===p?E():(h.start(y.startX,y.startY),!0))))},function(t){_?!D&&b&&(D=!0,s(y,t),X.write(w)):(s(y,t),h.detect(y.currentX,y.currentY)&&(h.isGesture()&&E()||(x(),Y.stop(),f&&f(y))))},T,{capture:!1}),h=function(t,e,r){const o=n.maxAngle*(Math.PI/180),i="x"===n.direction,c=Math.cos(o),s=e*e;let a=0,u=0,l=!1,d=0;return{start(t,e){a=t,u=e,d=0,l=!0},detect(t,e){if(!l)return!1;const n=t-a,r=e-u,o=n*n+r*r;if(o<s)return!1;const m=Math.sqrt(o),f=(i?n:r)/m;return d=f>c?1:f<-c?-1:0,l=!1,!0},isGesture:()=>0!==d,getDirection:()=>d}}(0,n.threshold),S=e.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll});let _=!1,g=!1,b=!0,D=!1;function w(){_&&(D=!1,v&&v(y))}function E(){return!(S&&!S.capture()||(_=!0,b=!1,y.startX=y.currentX,y.startY=y.currentY,y.startTimeStamp=y.timeStamp,l?l(y).then(L):L(),0))}function L(){d&&d(y),b=!0}function x(){_=!1,g=!1,D=!1,b=!0,S.release()}function T(t){const e=_,n=b;x(),n&&(s(y,t),e?m&&m(y):f&&f(y))}return{setDisabled(t){t&&_&&T(void 0),Y.setDisabled(t)},destroy(){S.destroy(),Y.destroy()}}}function s(t,e){if(!e)return;const n=t.currentX,r=t.currentY,o=t.timeStamp;a(e,t);const i=t.currentX,c=t.currentY,s=(t.timeStamp=u(e))-o;if(s>0&&s<100){const e=(c-r)/s;t.velocityX=(i-n)/s*.7+.3*t.velocityX,t.velocityY=.7*e+.3*t.velocityY}t.deltaX=i-t.startX,t.deltaY=c-t.startY,t.event=e}function a(t,e){let n=0,r=0;if(t){const e=t.changedTouches;if(e&&e.length>0){const t=e[0];n=t.clientX,r=t.clientY}else void 0!==t.pageX&&(n=t.pageX,r=t.pageY)}e.currentX=n,e.currentY=r}function u(t){return t.timeStamp||Date.now()}export{c as createGesture};